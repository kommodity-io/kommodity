# Default values for kommodity-cluster in Kubevirt.
kommodity:
  provider:
    name: Kubevirt
    secret:
      # Kubevirt secret example (contains a kubeconfig used to connect to the Kubevirt cluster):
      #
      # apiVersion: v1
      # kind: Secret
      # metadata:
      #   name: kubevirt-credentials
      #   namespace: <release-namespace>
      # data:
      #   kubeconfig: <base64-encoded-kubeconfig>
      # type: Opaque
      name: kubevirt-credentials
    config:
      # Namespace in the external Kubevirt cluster where the VMs will be deployed
      infraClusterNamespace: kubevirt-cluster-namespace

      # Specify a storageClassName if needed
      # storageClassName: my-storage-class

      # Specify a controlPlaneEndpoint if needed
      # controlPlaneEndpoint:
      #   host: my-host-ip
      #   port: 6443

  network:
    cluster:
      podCIDR:
        - 10.245.0.0/16 # Needs to be different from the Kubevirt cluster pod CIDR (usually 10.244.0.0/16)

  controlplane:
    replicas: 2
    sku: s1.medium
    os:
      disk:
        size: 20

  nodepools:
    default:
      replicas: 1
      sku: s1.medium
      os:
        disk:
          size: 20

      # Optional: specify GPU resources
      # gpus:
      #   default: # name to identify the device in the VM
      #     deviceName: "nvidia.com/AD102GL_L40S" # resource name representing the device

talos:
  imageName: https://factory.talos.dev/image/ce4c980550dd2ab1b17bbf2b08801c7eb59418eafe8f279833297925d67c7515/v1.12.2/openstack-amd64.raw.xz # OpenStack image with 'siderolabs/qemu-guest-agent' extension
